/*
baekjoon 1918��: ���� ǥ���

�ð� ����: 2��
�޸� ����: 128 MB

����
������ �Ϲ������� 3���� ǥ������� ǥ���� �� �ִ�. �����ڰ� �ǿ����� ��� ��ġ�ϴ� ���� ǥ���(�Ϲ������� �츮�� ���� ����̴�), �����ڰ� �ǿ����� �տ� ��ġ�ϴ� ���� ǥ���(prefix notation), �����ڰ� �ǿ����� �ڿ� ��ġ�ϴ� ���� ǥ���(postfix notation)�� �װ��̴�. ���� ��� ���� ǥ������� ǥ���� a+b�� ���� ǥ������δ� +ab�̰�, ���� ǥ������δ� ab+�� �ȴ�.
�� �������� �츮�� �ٷ� ǥ����� ���� ǥ����̴�. ���� ǥ����� ������ ���� ���� ���� �����ڰ� �ǿ����� �ڿ� ��ġ�ϴ� ����̴�. �� ����� ������ ������ ����. �츮�� ���� ���� ���� ǥ��� ���� ��쿡�� ������ ������ �켱������ ���̰� �־� ���ʺ��� ���ʷ� ����� �� ������ ���� ǥ����� ����ϸ� ������ ������ �����Ͽ� ������ ������ �� �ִ�. ���� ���� ������� ��ȣ � �ʿ� ���� �ȴ�. ���� ��� a+b*c�� ���� ǥ������� �ٲٸ� abc*+�� �ȴ�.
���� ǥ����� ���� ǥ������� �ٲٴ� ����� ������ �����ϸ� �̷���. �켱 �־��� ���� ǥ����� �������� �켱������ ���� ��ȣ�� �����ش�. �׷� ������ ��ȣ ���� �����ڸ� ��ȣ�� ���������� �Ű��ָ� �ȴ�.
���� ��� a+b*c�� (a+(b*c))�� �İ� ���� �ȴ�. �� ������ �ȿ� �ִ� ��ȣ�� ������ *�� ��ȣ ������ ������ �Ǹ� (a+bc*)�� �ȴ�. ���������� �� +�� ��ȣ�� ���������� ��ġ�� abc*+�� �ǰ� �ȴ�.
�ٸ� ���� ��� �׸����� ǥ���ϸ� A+B*C-D/E�� �����ϰ� ��ȣ�� ���� �����ڸ� �̵���ų ��Ҹ� ǥ���ϸ� ������ ���� �ȴ�.
�̷��� ����� �˰� ���� ǥ����� �־����� �� ���� ǥ������� ��ġ�� ���α׷��� �ۼ��Ͻÿ�

�Է�
ù° �ٿ� ���� ǥ����� �־�����. �� �� ������ �ǿ����ڴ� A~Z�� ���ڷ� �̷������ ���Ŀ��� �� ������ �����Ѵ�. �׸��� -A+B�� ���� -�� ���� �տ� ���ų� AB�� ���� *�� �����Ǵ� ���� ������ �־����� �ʴ´�. ǥ����� ���ĺ� �빮�ڿ� +, -, *, /, (, )�θ� �̷���� ������, ���̴� 100�� ���� �ʴ´�. 

���
ù° �ٿ� ���� ǥ������� �ٲ� ���� ����Ͻÿ�
*/

#include <bits/stdc++.h>

using namespace std;

typedef long long ll;
typedef unsigned long long ull;

string s;
stack<char> st;

int main(void) {
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);
	cout.tie(NULL);
	
	cin >> s;
	for(int i=0; i<s.size(); i++) {
		if(s[i] >= 'A' && s[i] <= 'Z') {
			cout << s[i];
		}
		else if(s[i] == '*' || s[i] == '/') {
			while(!st.empty() && (st.top() == '*' || st.top() == '/')) {
				if(st.top() == '(') {
					break;
				}
				cout << st.top();
				st.pop();
			}
			st.push(s[i]);
		}
		else if(s[i] == '+' || s[i] == '-') {
			while(!st.empty()) {
				if(st.top() == '(') {
					break;
				}
				cout << st.top();
				st.pop();
			}
			st.push(s[i]);
		}
		else if(s[i] == ')') {
			while(!st.empty()) {
				if(st.top() == '(') {
					st.pop();
					break;
				}
				cout << st.top();
				st.pop();
			}
		}
		else {
			st.push(s[i]);
		}
	}
	while(!st.empty()) {
		cout << st.top();
		st.pop();
	}
}

/*
stack

����ǥ��� -> ����ǥ��� ��ȯ �˰��� 
  1) �ǿ����ڰ� ������ �ٷ� ����մϴ�.
  2) �����ڰ� ������ �ڱ⺸�� �켱������ ���ų� ���� �͵��� ���� �ڽ��� ���ÿ� ����ϴ�.
  3) ���� ��ȣ '('�� ������ ������ ���ÿ� ����ϴ�.
  4) �ݴ� ��ȣ ')'�� ������ '('�� ���� ������ ���ÿ��� ����մϴ�.


cin string s
for s
	if s[i] alphabet
		cout s[i]
	else
		if s[i] * /
			while ! stack empty & (stack pop * or /)
				if stack top (
					break
				cout stack top
				stack pop
			stack push
		else if s[i] - +
			while ! stack empty
				if stack top (
					break
				cout stack top
				stack pop
			stack push
		else if )
			while ! stack empty
				if stack top (
					stack pop
					break
				cout stack top
				stack pop
		else )
			stack push
	while ! stack empty
		cout stack top
		stack pop							
*/
