/*
baekjoon 7662��: ���� �켱���� ť

�ð� ����: 6 ��
�޸� ����: 256 MB

����
���� �켱���� ť(dual priority queue)�� �������� �켱���� ťó�� �����͸� ����, ������ �� �ִ� �ڷ� �����̴�. �������� ť���� �������� �����͸� ������ �� ����(operation) ��ɿ� ���� �켱������ ���� ���� ������ �Ǵ� ���� ���� ������ �� �ϳ��� �����ϴ� ���̴�. ���� �켱���� ť�� ���ؼ� �� ���� ������ ���Ǵµ�, �ϳ��� �����͸� �����ϴ� �����̰� �ٸ� �ϳ��� �����͸� �����ϴ� �����̴�. �����͸� �����ϴ� ������ �� �� ������ ���еǴµ� �ϳ��� �켱������ ���� ���� ���� �����ϱ� ���� ���̰� �ٸ� �ϳ��� �켱������ ���� ���� ���� �����ϱ� ���� ���̴�. 
������ �����ϴ� ���� �켱���� ť Q�� �ִٰ� ��������. Q�� ����� �� ������ �� ��ü�� �켱������� ��������. 
Q�� ����� �Ϸ��� ������ �־��� �� �̸� ó���� �� ���������� Q�� ����� ������ �� �ִ񰪰� �ּڰ��� ����ϴ� ���α׷��� �ۼ��϶�.

�Է�
�Է� �����ʹ� ǥ���Է��� ����Ѵ�. �Է��� T���� �׽�Ʈ �����ͷ� �����ȴ�. �Է��� ù ��° �ٿ��� �Է� �������� ���� ��Ÿ���� ���� T�� �־�����. �� �׽�Ʈ �������� ù° �ٿ��� Q�� ������ ������ ������ ��Ÿ���� ���� k (k �� 1,000,000)�� �־�����. �̾����� k �� ������ ������ ��Ÿ���� ����(��D�� �Ǵ� ��I��)�� ���� n�� �־�����. ��I n���� ���� n�� Q�� �����ϴ� ������ �ǹ��Ѵ�. ������ ������ ���Ե� �� ������ �����ϱ� �ٶ���. ��D 1���� Q���� �ִ��� �����ϴ� ������ �ǹ��ϸ�, ��D -1���� Q ���� �ּڰ��� �����ϴ� ������ �ǹ��Ѵ�. �ִ�(�ּڰ�)�� �����ϴ� ���꿡�� �ִ�(�ּڰ�)�� �� �̻��� ���, �ϳ��� �������� �����ϱ� �ٶ���.
���� Q�� ����ִµ� ������ ������ ��D����� �� ������ �����ص� ����. Q�� ����� ��� ������ 32-��Ʈ �����̴�. 

���
����� ǥ������� ����Ѵ�. �� �׽�Ʈ �����Ϳ� ����, ��� ������ ó���� �� Q�� ���� �ִ� �� �� �ִ񰪰� �ּڰ��� ����϶�. �� ���� �� �ٿ� ����ϵ� �ϳ��� �������� �����϶�. ���� Q�� ����ִٸ� ��EMPTY���� ����϶�. 
*/

#include <bits/stdc++.h>

using namespace std;

typedef long long ll;
typedef unsigned long long ull;

multiset<int> ms;
int t, k, n;
char cmd;

int main(void) {
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);
	cout.tie(NULL);

	cin >> t;
	while(t--) {
		ms.clear();
		
		cin >> k;
		while(k--) {
			cin >> cmd >> n;
		
			if(cmd == 'I') {
				ms.insert(n);
			}
			else if(cmd == 'D') {
				if(n == 1 && !ms.empty()) {
					ms.erase(--ms.end());
				}
				else if(n == -1 && !ms.empty()) {
					ms.erase(ms.begin());
				}
			}
		}
		
		if(ms.empty()) {
			cout << "EMPTY\n";
		}
		else {
			cout << *ms.rbegin() << " " << *ms.begin() << "\n";
		}
	}
}

/* 
�ڷᱸ��
!! �� ����, ���� �۾����� O(logn) �ð��� �ɷ��� �� O(nlogn), n = 1,000,000 => �뷫 6 õ���� ���� �̹Ƿ� ���� �ð� 6�� �� ó�� ����
!! ���ҵ��� ���ĵǾ� �����鼭 ����, ���� �۾����� O(logn) �ð��� �ɸ��� �ڷᱸ�� -> set, multiset ���� ���� �����̳� 
*/ 
