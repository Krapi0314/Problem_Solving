/*
baekjoon 9375��: �мǿ� ���غ�

�ð� ����: 1��
�޸� ����: 128 MB

����
�غ��̴� �мǿ� �ſ� �ΰ��ؼ� �ѹ� �Ծ��� �ʵ��� ������ ���� �ٽ� ���� �ʴ´�. ���� ��� ���� �غ��̰� �Ȱ�, ��Ʈ, ����, �Ź��� �Ծ��ٸ�, �������� ������ �߰��� �԰ų� �Ȱ��� ��� �����ϰų� �ؾ��Ѵ�. �غ��̰� ���� �ǻ���� �־������� ���� �غ��̴� �˸��� �ƴ� ���·� ��ĥ���� �ۿ� ���ƴٴ� �� ������?

�Է�
ù° �ٿ� �׽�Ʈ ���̽��� �־�����. �׽�Ʈ ���̽��� �ִ� 100�̴�.
�� �׽�Ʈ ���̽��� ù° �ٿ��� �غ��̰� ���� �ǻ��� �� n(0 �� n �� 30)�� �־�����.
���� n������ �غ��̰� ���� �ǻ��� �̸��� �ǻ��� ������ �������� ���еǾ� �־�����. ���� ������ �ǻ��� �ϳ��� ���� �� �ִ�.
��� ���ڿ��� 1�̻� 20������ ���ĺ� �ҹ��ڷ� �̷���������� ���� �̸��� ���� �ǻ��� �������� �ʴ´�.

���
�� �׽�Ʈ ���̽��� ���� �غ��̰� �˸��� �ƴ� ���·� �ǻ��� ���� �� �ִ� ��츦 ����Ͻÿ�. 
*/

#include <bits/stdc++.h>

using namespace std;

typedef long long ll;
typedef unsigned long long ull;

int t;
int n;
string a,b;
map<string, int> m;
map<string, int>::iterator iter;
int ans;

int main(void) {
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);
	cout.tie(NULL);
	
	cin >> t;
	while(t--) {
		ans = 1;
		m.clear();
		
		cin >> n;
		
		for(int i=0; i<n; i++) {
			cin >> a >> b;
			m[b]++;
		}
		
		iter = m.begin();
		while(iter != m.end()) {
			ans *= (iter->second + 1);
			iter++;
		}
		
		cout << ans - 1 << "\n";
	}
}

/* 
(�ǻ�1�� ���� + 1 (�ǻ��� �� �Դ� ���)) * (�ǻ� 2�� ���� + ...) * ... - 1 (�ƹ��͵� �� �Դ� ���) 
�ڷᱸ��: map<string(key), int(value)> �ڷᱸ�� (��� ���̺�)�� key�� �ش��ϴ� string�� insert �Ǹ� int count++ 
ex: (2 + 1) * (1 + 1) - 1 = 5
ex: (3 + 1) - 1 = 3
*/ 
